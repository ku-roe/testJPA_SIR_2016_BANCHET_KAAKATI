/*C5*/SET SCHEMA PUBLIC
create table ElectronicDevice (DTYPE varchar(31) not null, id integer generated by default as identity (start with 1), name varchar(255), nbWatt varchar(255), size integer, RESIDENCE_ID integer, primary key (id))
create table Heater (id integer generated by default as identity (start with 1), name varchar(255), RESIDENCE_ID integer, primary key (id))
create table Person (id integer generated by default as identity (start with 1), age integer not null, mail varchar(255), name varchar(255), primary key (id))
create table Person_Person (Person_id integer not null, persons_id integer not null)
create table Person_Residence (person_id integer not null, residences_id integer not null)
create table Residence (id integer generated by default as identity (start with 1), nbPiece integer not null, size integer not null, primary key (id))
alter table ElectronicDevice add constraint FK_mtj4etha3s7c8c5pd9fneqrbt foreign key (RESIDENCE_ID) references Residence
alter table Heater add constraint FK_6bpqmg2ybwlsep1p51vc8nh4i foreign key (RESIDENCE_ID) references Residence
alter table Person_Person add constraint FK_pk83jr3m9ttmpvl1dgeugn05j foreign key (persons_id) references Person
alter table Person_Person add constraint FK_inq4xm3i524cmia3rp65fx39w foreign key (Person_id) references Person
alter table Person_Residence add constraint FK_6g2nqnd2b88ir447uyicgh7nl foreign key (residences_id) references Residence
alter table Person_Residence add constraint FK_7d1gdimv3kfd6cmo0rpfeu614 foreign key (person_id) references Person
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
INSERT INTO PERSON VALUES(1,12,'dfd','fdfd')
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
INSERT INTO RESIDENCE VALUES(1,15,3000)
COMMIT
